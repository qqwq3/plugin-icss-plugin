module.exports=function(e){var t={};function s(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,s),o.l=!0,o.exports}return s.m=e,s.c=t,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(i,o,function(t){return e[t]}.bind(null,o));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="./lib/",s(s.s=81)}({0:function(e,t,s){"use strict";function i(e,t,s,i,o,n,l,a){var r,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=s,c._compiled=!0),i&&(c.functional=!0),n&&(c._scopeId="data-v-"+n),l?(r=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(l)},c._ssrRegister=r):o&&(r=a?function(){o.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:o),r)if(c.functional){c._injectStyles=r;var d=c.render;c.render=function(e,t){return r.call(t),d(e,t)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,r):[r]}return{exports:e,options:c}}s.d(t,"a",(function(){return i}))},1:function(e,t){e.exports=require("core-js/stable")},25:function(e,t){},39:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.handleClose,expression:"handleClose"}],ref:"selectTree",staticClass:"SelectTree pst"},[s("div",{staticClass:"input-box",on:{click:e.handleShow}},["checkbox"===e.type?[s("el-input",{attrs:{autocomplete:"off",readonly:"",placeholder:e.selectNodes.length?"":e.placeholder,"suffix-icon":e.showTreeBox?"el-icon-arrow-up":"el-icon-arrow-down","validate-event":!1,disabled:e.disabled}}),e.selectNodes.length?s("div",{staticClass:"tags-box"},[s("div",{staticClass:"tags-show-box"},[s("el-tag",{class:{"is-disabled":e.disabled},attrs:{size:"small",type:"info",closable:!e.disabled},on:{close:function(t){return e.selectNodes.shift()}}},[e._v("\n            "+e._s(e.selectNodesShowText)+"\n          ")]),e.selectNodes.length>1?s("el-tooltip",{attrs:{effect:"dark",placement:"right",enterable:!1}},[s("div",{attrs:{slot:"content"},slot:"content"},[e._l(e.selectNodes,(function(t,i){return[0!==i?s("p",{key:t[e.nodeKey]},[e._v("\n                  "+e._s(t.path||(e.treeMaps[t[e.nodeKey]]?e.treeMaps[t[e.nodeKey]].path:""))+"\n                ")]):e._e()]}))],2),s("el-tag",{staticClass:"ml10",attrs:{size:"small",type:"info"}},[e._v("+"+e._s(e.selectNodes.length-1))])],1):e._e()],1)]):e._e()]:[s("el-input",{attrs:{value:e.selectNodesShowText,"validate-event":!1,autocomplete:"off",readonly:"",placeholder:e.placeholder,disabled:e.disabled}},[s("i",{staticClass:"el-input__icon",class:e.showTreeBox?"el-icon-circle-close cp":"el-icon-arrow-down",attrs:{slot:"suffix"},on:{click:e.handleClear},slot:"suffix"})])]],2),s("transition",{attrs:{name:"el-zoom-in-top"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.showTreeBox,expression:"showTreeBox"}],staticClass:"treeBox",style:e.addStyle},[s("div",{staticClass:"treeSearchBox"},[s("el-input",{staticClass:"icss-not-validator",attrs:{placeholder:"请输入搜索内容","suffix-icon":"el-icon-search","validate-event":!1},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}})],1),s("el-row",{staticClass:"treeShowBox dspf"},[s("el-col",{class:{pr8:"checkbox"===e.type&&e.showCheckedBox},attrs:{span:"checkbox"===e.type&&e.showCheckedBox?12:24}},["checkbox"===e.type&&e.showCheckedBox?s("p",{staticClass:"font14 lh36"},[e._v("可选：")]):e._e(),s("el-tree",{ref:"treeBox",attrs:{data:e.filterData,props:e.props,"highlight-current":!0,"expand-on-click-node":!1,"node-key":e.nodeKey},on:{"node-click":e.handleNodeClick},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.data;return s("div",{staticClass:"custom-tree-node"},[i[e.props.disabled]||"checkbox"!==e.type?e._e():s("label",{staticClass:"el-checkbox"},[s("span",{staticClass:"el-checkbox__input",class:{"is-checked":e.selectNodes.map((function(t){return t[e.nodeKey]})).includes(i[e.nodeKey])}},[s("span",{staticClass:"el-checkbox__inner"})])]),i[e.props.disabled]||"radio"!==e.type?e._e():s("label",{staticClass:"el-radio"},[s("span",{staticClass:"el-radio__input",class:{"is-checked":e.selectNodes.map((function(t){return t[e.nodeKey]})).includes(i[e.nodeKey])}},[s("span",{staticClass:"el-radio__inner"})])]),s("ToolTipWithEllipsis",{staticClass:"text",attrs:{content:i.path,placement:"top",enterable:!1}},[s("p",{staticClass:"text-ellipsis",domProps:{innerHTML:e._s(i[e.props.label])}})])],1)}}])})],1),"checkbox"===e.type&&e.showCheckedBox?s("el-col",{staticClass:"pl8",attrs:{span:12}},[s("p",{staticClass:"font14 lh36"},[e._v("已选：")]),e._l(e.selectNodes,(function(t,i){return s("el-tooltip",{key:t[e.nodeKey],attrs:{content:t.path||(e.treeMaps[t[e.nodeKey]]?e.treeMaps[t[e.nodeKey]].path:""),enterable:!1,effect:"dark",placement:"left"}},[s("el-tag",{attrs:{size:"small",type:"info",closable:""},on:{close:function(t){return e.selectNodes.splice(i,1)}}},[e._v("\n              "+e._s(t.path||(e.treeMaps[t[e.nodeKey]]?e.treeMaps[t[e.nodeKey]].path:""))+"\n            ")])],1)}))],2):e._e()],1)],1)])],1)};i._withStripped=!0;var o=s(8),n=s.n(o),l={name:"SelectTree",components:{ToolTipWithEllipsis:s(5).default},directives:{Clickoutside:n.a},model:{prop:"selected",event:"change"},props:{initData:{type:Array,required:!0},type:{type:String,required:!0},selected:{default:()=>{},validator:e=>e instanceof Object},nodeKey:{type:String,default:()=>"id"},props:{type:Object,default:()=>({label:"name",children:"children",disabled:"disabled",isLeaf:"isLeaf"})},isBottom:Boolean,disabled:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"},showCheckedBox:{type:Boolean,default:!0}},data:()=>({showTreeBox:!1,treeData:[],treeList:[],treeMaps:{},selectNodes:[],filterText:"",addStyle:""}),computed:{selectNodesShowText(){return this.selectNodes.length?this.selectNodes[0].path||(this.treeMaps[this.selectNodes[0][this.nodeKey]]?this.treeMaps[this.selectNodes[0][this.nodeKey]].path:""):""},filterData(){return this.filterText.trim()?this.treeList.filter(e=>!e[this.props.disabled]&&-1!==e[this.props.label].indexOf(this.filterText.trim())).map(e=>{const t={};return t[this.nodeKey]=e[this.nodeKey],t[this.props.label]=e.path.replaceAll(this.filterText.trim(),'<b class="linkred">'+this.filterText.trim()+"</b>"),t.path=e.path,t}):this.treeData}},watch:{initData(e){this.treeData=e,this.treeMaps=this.mapData(this.treeData),this.treeList=[];for(const e in this.treeMaps)this.treeList.push(this.treeMaps[e])},selectNodes(e){"checkbox"===this.type?this.$emit("change",e):this.$emit("change",e.length?e[0]:null)},selected(e){"checkbox"===this.type?this.selectNodes=e:(this.selectNodes=e?[e]:[],e&&this.$refs.treeBox.setCurrentKey(e[this.nodeKey]))}},created(){this.treeData=this.initData,this.treeMaps=this.mapData(this.treeData),this.treeList=[];for(const e in this.treeMaps)this.treeList.push(this.treeMaps[e]);this.selected&&("checkbox"===this.type?this.selectNodes=this.selected:(this.selectNodes=[this.selected],this.$nextTick(()=>{this.$refs.treeBox.setCurrentKey(this.selected[this.nodeKey])})))},mounted(){const e=this;e.$nextTick(()=>{const t=e.$refs.selectTree;!this.isBottom&&window.innerHeight-t.getBoundingClientRect().y-t.getBoundingClientRect().height<350&&(e.addStyle="transform: translateY(-100%);top: -13px;")})},methods:{handleClose(){this.showTreeBox=!1},handleShow(){this.showTreeBox=!this.disabled},handleNodeClick(e){e[this.props.disabled]||("checkbox"===this.type?0===this.selectNodes.filter(t=>t[this.nodeKey]===e[this.nodeKey]).length?this.selectNodes.push(this.treeMaps[e[this.nodeKey]]):this.selectNodes=this.selectNodes.filter(t=>t[this.nodeKey]!==e[this.nodeKey]):(this.selectNodes=[this.treeMaps[e[this.nodeKey]]],this.showTreeBox=!1))},handleClear(){this.showTreeBox&&(this.selectNodes=[],this.showTreeBox=!1)},mapData(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=this;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(i=>{i.path=e+i[s.props.label],t[i[s.nodeKey]]=i,s.mapData(i[s.props.children]||[],i.path+"/",t)}),t}}},a=(s(58),s(0)),r=Object(a.a)(l,i,[],!1,null,"732237fd",null).exports;r.install=function(e){e.component(r.name,r)};t.default=r},5:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-tooltip",e._g(e._b({attrs:{disabled:e.disabled},scopedSlots:e._u([e.$slots.content?{key:"content",fn:function(){return[s("div",{style:{maxWidth:e.width},attrs:{"data-qiankun":e.isQiankun?e.systemName:void 0}},[e._t("content")],2)]},proxy:!0}:{key:"content",fn:function(){return[s("div",{style:{maxWidth:e.width},attrs:{"data-qiankun":e.isQiankun?e.systemName:void 0}},[e._v("\n      "+e._s(e.content)+"\n    ")])]},proxy:!0}],null,!0)},"el-tooltip",e.$attrs,!1),e.$listeners),[s("div",{on:{mouseenter:function(t){return e.handleMouseenter(t)}}},[e._t("default")],2)])};i._withStripped=!0;var o={name:"ToolTipWithEllipsis",props:{content:{type:[String,Number],default:""},showLine:{type:Number,default:1},width:{type:String,default:"600px"},systemName:{type:String,default:void 0}},data:()=>({isQiankun:!!window.__POWERED_BY_QIANKUN__,disabled:!1}),methods:{handleMouseenter(e){let{target:t}=e;if(!this.$slots.default)return;const s=document.createElement("div");s.append(...this.$slots.default.map(e=>e.elm.cloneNode(!0))),s.style.position="absolute",s.style.display="inline-block",s.className="getTextWidth",t.parentNode.appendChild(s);const i=document.querySelector(".getTextWidth"),o=i.getBoundingClientRect().width||i.offsetWidth,n=t.getBoundingClientRect().width||t.offsetWidth;document.querySelector(".getTextWidth").remove(),o<=n*this.showLine&&(this.disabled=!0)}}},n=s(0),l=Object(n.a)(o,i,[],!1,null,null,null).exports;l.install=function(e){e.component(l.name,l)};t.default=l},58:function(e,t,s){"use strict";s(25)},8:function(e,t){e.exports=require("element-ui/lib/utils/clickoutside")},81:function(e,t,s){s(1),e.exports=s(39)}});